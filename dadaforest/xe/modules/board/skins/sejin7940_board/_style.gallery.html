<!--@if($module_info->view_style=="book" && $document_srl)-->
{@$module_info->list_link="default"}
<!--@end-->

<form action="./" method="get" class="boardListForm">
    <fieldset>
        <legend>List of Articles</legend>

        <table cellspacing="0" border="0" summary="List of Articles" class="boardList">
			<!--@if(($module_info->display_header!="N") || ($module_info->display_subheader!="N" && $search_keyword!="N" && $use_sub=="Y"))-->
			<thead>
				<tr>
					<!--// 목록 설정으로 table theader 생성 -->
					<!--@foreach($list_config as $key => $val)-->
						<!--// 기본 컨텐츠일 경우 -->
						<!--@if($val->idx == -1)-->
	
						<!--// 컨텐츠 종류에 따라서 출력 -->
						<!--@if($val->type == 'no')-->
							<th scope="col">{$lang->no}</th>
						<!--@elseif($val->type == 'title')-->
							<th scope="col" class="title">
								<!--@if($module_info->use_category == "Y" && ($module_info->category_style == "list_select" || $module_info->category_style == "wide_and_select" ))-->
								<span class="jumpTo">
									<select name="category" id="board_category">
										<option value="">{$lang->category}</option>
										<!--@foreach($category_list as $val)-->
										<option value="{$val->category_srl}" <!--@if($category==$val->category_srl)-->selected="selected"<!--@end-->>{str_repeat("&nbsp;&nbsp;",$val->depth)} {$val->title} <!--@if($val->document_count)-->({$val->document_count})<!--@end--></option>
										<!--@end-->
									</select>
									<button type="button" name="go_button" id="go_button" onclick="doChangeCategory(); return false;" class="button">Go</button>
								</span>
								<!--@end-->
								<a href="{getUrl('sort_index','title','sortkey','','order_type',$order_type)}">{$lang->title}<!--@if($sort_index=='title')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /></a><!--@end-->
							</th>
						<!--@elseif($val->type == 'regdate')-->
							<th scope="col"><a href="{getUrl('sort_index','regdate','sortkey','','order_type',$order_type)}">{$lang->date}<!--@if($sort_index=='regdate')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
						<!--@elseif($val->type == 'last_update')-->
							<th scope="col"><a href="{getUrl('sort_index','last_update','sortkey','','order_type',$order_type)}">{$lang->last_update}<!--@if($sort_index=='last_update')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
						<!--@elseif($val->type == 'nick_name')-->
							<th scope="col"><a href="{getUrl('sort_index','nick_name','sortkey','','order_type',$order_type)}">{$lang->writer}<!--@if($sort_index=='nick_name')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
						<!--@elseif($val->type == 'user_id')-->
							<th scope="col"><a href="{getUrl('sort_index','user_id','sortkey','','order_type',$order_type)}">{$lang->user_id}<!--@if($sort_index=='user_id')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
						<!--@elseif($val->type == 'user_name')-->
							<th scope="col"><a href="{getUrl('sort_index','user_name','sortkey','','order_type',$order_type)}">{$lang->user_name}<!--@if($sort_index=='user_name')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></th>
						<!--@elseif($val->type == 'readed_count')-->
							<th scope="col"><a href="{getUrl('sort_index','readed_count','sortkey','','order_type',$order_type)}">{$lang->readed_count}<!--@if($sort_index=='readed_count')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
						<!--@elseif($val->type == 'voted_count')-->
							<th scope="col"><a href="{getUrl('sort_index','voted_count','sortkey','','order_type',$order_type)}">{$lang->voted_count}<!--@if($sort_index=='voted_count')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
                        <!--@elseif($val->type == 'last_post')-->
                            <th scope="col"><a href="{getUrl('sort_index','last_update','sortkey','','order_type',$order_type)}">{$lang->last_post}<!--@if($sort_index=='last_update')--><img src="./img/common/{$order_icon}" alt="sort" width="5" height="3" class="sort" /><!--@end--></a></th>
						<!--@end-->
						<!--// 사용자 선언 확장변수일 경우 -->
						<!--@elseif( $module_info->grant_extra=="Y" && (((substr_count($val->eid,'_grantAA') || substr_count($val->eid,'_grantMA') || substr_count($val->eid,'_grantGA')) && !$grant->manager) || ((substr_count($val->eid,'_grantAM') || substr_count($val->eid,'_grantMM') || substr_count($val->eid,'_grantGM')) && !$logged_info)) )-->
						<!--@else-->
							<th scope="col"><a href="{getUrl('sort_index','','sortkey',$val->eid,'order_type',$order_type)}">{$val->name}</th>
						<!--@end-->
					<!--@end-->
					<!--@if($module_info->display_list_edit=="Y")--><th scope="col">{$lang->cmd_modify}/{$lang->cmd_delete}</th><!--@end-->
					<!--@if($grant->manager)--><th scope="col"><input type="checkbox" onclick="XE.checkboxToggleAll({ doClick:true }); return false;" title="Check All" /></th><!--@end-->
				</tr>
			</thead>
			<!--@end-->

			<!--@if(!$document_list && !$notice_list)-->
			<tbody>
				<tr>
					<td colspan="<!--@if($grant->manager)-->{count($list_config)+1}<!--@else-->{count($list_config)}<!--@end-->" style="text-align:center; padding:15px 0px 15px 0px; border-bottom:none;">
						{$lang->no_documents}
					</td>
				</tr>
			</tbody>
			<!--@end-->

			<!--@if($module_info->notice_type!='same' && $notice_list)-->
			<tbody>
				<!--@foreach($notice_list as $no => $document)-->
				<!--@if(  !($document->isSecret() && ($module_info->secret_list=="hide_all" || (($module_info->secret_list=="hide") && ($document->getUserID()!=$logged_info->user_id)) )) || $grant->manager )-->
				{@$member_grant=$document->getExtraEidValue('member_grantAA')}
				{@$group_grant=$document->getExtraEidValue('group_grantAA')}
				<!--@if( ((!$member_grant || ($member_grant &&  substr_count(",".$member_grant.",", ",".$logged_info->user_id.","))) && (!$group_grant || ($group_grant &&  substr_count(",".$group_grant.",", ",".$logged_info->group.",")))) || $grant->manager=="Y" || $grant->document_grant=="N")-->
				<tr class="notice">
					<!--// 목록 설정으로 table theader 생성 -->
					<!--@foreach($list_config as $key => $val)-->
	
						<!--// 기본 컨텐츠일 경우 -->
						<!--@if($val->idx == -1)-->
	
							<!--// 컨텐츠 종류에 따라서 출력 -->
							<!--@if($val->type == 'no')-->
								<td class="notice"><!--@if($document_srl == $document->document_srl)-->&raquo;<!--@else-->{$lang->notice}<!--@end--></td>
							<!--@elseif($val->type == 'title')-->
								<td class="title">
									{@$subject_cut_size=$module_info->subject_cut_size}
									<!--@if($module_info->icon_hot && $module_info->icon_hot<=$document->get('readed_count'))--><img src="./img/icons/hot.gif" class="iePngFix" />{@$subject_cut_size-=10}<!--@end-->

									<!--@if($module_info->display_category!="N" && $module_info->use_category == "Y" && $document->get('category_srl'))-->
									<strong class="category">{$category_list[$document->get('category_srl')]->title}</strong>
									<!--@end-->

									{@$link_url = $document->getExtraEidValue('link_url');}
									<!--@if ($grant->manager!="Y" && $logged_info->user_id!=$document->get('user_id') && $module_info->use_link == "Y" && $link_url)-->
										<!--@if (!strstr($link_url,'http://'))-->
											{@$link_url = 'http://'.$link_url;}
										<!--@end-->

										<!--@if($module_info->link_hit!="N" && $read_count == $document->document_srl && $read_counted[$document->document_srl]!="Y")-->
											{@	
												$oDocumentController = &getController('document');
												$oDocumentController->updateReadedCount($document);	
												$read_counted[$document->document_srl]="Y";
											}
											<script>location.href="{getUrl('','mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle)}"</script>
										<!--@end-->
										<a href="{getUrl('','read_count',$document->document_srl,'mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle,'layout_srl',$layout_srl)}"  onclick="window.open('{$link_url}');" style="cursor:pointer">
									<!--@elseif($module_info->default_style=="slide" || ($module_info->list_link=="noview" && $grant->manager!="Y" ))-->
									<!--@else-->
										<a <!--@if((!$document->isSecret() || $grant->manager=="Y") && $module_info->subject_mouseover=="subject" && ($subject_cut_size< strlen(strip_tags($document->getTitle())))  )-->title="{strip_tags($document->getTitle())}" <!--@elseif((!$document->isSecret() || $grant->manager=="Y") && $module_info->subject_mouseover=="content")-->title="{strip_tags($document->getContentText($module_info->content_cut_size))}"<!--@end--> href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}" <!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
									<!--@end-->
									{$document->getTitle($subject_cut_size)}</a>

									<!--@if($module_info->display_new!="N")-->
										{$document->printExtraImages(60*60*$module_info->duration_new)}
									<!--@end-->
									
									<!--@if($document->getCommentCount())-->
										<!--@if($module_info->default_style=="slide" || ($module_info->list_link=="noview" && $grant->manager!="Y" ))-->
										<!--@else-->
										<a href="{getUrl('document_srl', $document->document_srl)}#comment" <!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
										<!--@end-->
										<span class="replyNum" title="Replies">[{$document->getCommentCount()}]</span></a>
									<!--@end-->
	
									<!--@if($document->getTrackbackCount())-->
										<!--@if($module_info->default_style=="slide" || ($module_info->list_link=="noview" && $grant->manager!="Y" ))-->
										<!--@else-->
										<a href="{getUrl('document_srl', $document->document_srl)}#trackback" <!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
										<!--@end-->
										<span class="trackbackNum" title="Trackbacks">[{$document->getTrackbackCount()}]</span></a>
									<!--@end-->
	
								</td>
							<!--@elseif($val->type == 'regdate')-->
								<td class="date">{$document->getRegdate('Y-m-d')}</td>
							<!--@elseif($val->type == 'last_update')-->
								<td class="date">{zdate($document->get('last_update'),'Y-m-d H:i')}</td>
							<!--@elseif($val->type == 'nick_name')-->
								<td class="author"><!--@if(!($sortkey=='regdate' && $grant->manager!="Y"))--><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false"><!--@end-->{$document->getNickName()}</a></td>
							<!--@elseif($val->type == 'user_id')-->
								<td class="author">{$document->getUserID()}</a></td>
							<!--@elseif($val->type == 'user_name')-->
								<td class="author"><!--@if(!($sortkey=='regdate' && $grant->manager!="Y"))--><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false"><!--@end-->{$document->getUserName()}</a></td>
							<!--@elseif($val->type == 'readed_count')-->
								<td class="reading">{$document->get('readed_count')>0?$document->get('readed_count'):'&nbsp;'}</td>
							<!--@elseif($val->type == 'voted_count')-->
								<td class="recommend">{$document->get('voted_count')!=0?$document->get('voted_count'):'&nbsp;'}</td>
							<!--@elseif($val->type == 'last_post')-->
                                <td class="lastReply">
                                <!--@if((int)($document->get('comment_count'))>0)-->
									<!--@if($module_info->default_style=="slide" || ($module_info->list_link=="noview" && $grant->manager!="Y" ))-->
									<!--@else-->
                                    <a href="{$document->getPermanentUrl()}#comment" class="replyAnchor" <!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
									<!--@end-->
									{zdate($document->get('last_update'),'Y-m-d')} {zdate($document->get('last_update'),'H:i')}</a>
                                    <!--@if($document->get('last_updater'))-->
                                        <sub class="by">by</sub>
                                        {htmlspecialchars($document->get('last_updater'))}
                                    <!--@end-->
                                <!--@else-->
                                    &nbsp;
                                <!--@end-->
                                </td>
							<!--@end-->
	
						<!--// 사용자 선언 확장변수일 경우 -->
						<!--@elseif( $module_info->grant_extra=="Y" && (((substr_count($val->eid,'_grantAA') || substr_count($val->eid,'_grantMA') || substr_count($val->eid,'_grantGA')) && !$grant->manager) || ((substr_count($val->eid,'_grantAM') || substr_count($val->eid,'_grantMM') || substr_count($val->eid,'_grantGM')) && !$logged_info)) )-->
						<!--@else-->
							<!--@if(!(!$grant->manager && strstr(strtolower($val->eid),"ordering") ))-->
								<td <!--@if($val->eid=='regdate' && $sortkey=='regdate' )-->class="date"<!--@end-->>{$document->getExtraValueHTML($val->idx)}&nbsp;</td>
							<!--@end-->
						<!--@end-->
					<!--@end-->
					<!--@if($module_info->display_list_edit=="Y")-->
						<td class="checkbox">
						<!--@if($document->isEditable() || $grant->manager)-->
							<a href="{getUrl('act','dispBoardWrite','document_srl',$document->document_srl,'comment_srl','')}" class="button {$btn_class}">
								<span>{$lang->cmd_modify}</span>
							</a>
							<a href="{getUrl('act','dispBoardDelete','document_srl',$document->document_srl,'comment_srl','')}" class="button {$btn_class}">
								<span>{$lang->cmd_delete}</span>
							</a>
						<!--@else-->&nbsp;
						<!--@endif-->	
						</td>
					<!--@end-->
					<!--@if($grant->manager)-->
						<td class="check"><input type="checkbox" name="cart" value="{$document->document_srl}" title="Check this" onclick="doAddDocumentCart(this)" <!--@if($document->isCarted())-->checked="checked"<!--@end--> /></td>
					<!--@end-->
				</tr>
				<!--@end-->
				<!--@end-->
				<!--@end-->	
			</tbody>
			<!--@end-->	
        </table>


<!--@if($module_info->notice_type=="same")-->
{@$document_list_bk = $document_list;}
{@$loop_list=2}
<!--@else-->
{@$loop_list=1}
<!--@end-->
<!--@for($loop=0;$loop<$loop_list;$loop++)-->

	<!--@if($module_info->notice_type=="same")-->
		<!--@if($loop==0)-->{@$document_list = $notice_list}
		<!--@else-->{@$document_list = $document_list_bk}
		<!--@end-->
	<!--@end-->

		<!--@if(count($document_list))-->
            {@$_height = count($list_config)*18 + $module_info->thumbnail_margin_height }
            <!--@if($list_config['thumbnail'])--> {@$_height += ($module_info->thumbnail_height -18) }<!--@end-->
            <!--@if($list_config['summary'])--> {@$_height += (60-18) }<!--@end-->
            <!--@if($list_config['last_post'])--> {@$_height += (30-18) }<!--@end-->

		<ul class="boardList thumbList" style="margin-left:{$module_info->list_leftmargin}px">

			<!--@foreach($document_list as $no => $document)-->

			<!--@if(  !($document->isSecret() && ($module_info->secret_list=="hide_all" || (($module_info->secret_list=="hide") && ($document->getUserID()!=$logged_info->user_id)) )) || $grant->manager )-->
			{@$member_grant=$document->getExtraEidValue('member_grantAA')}
			{@$group_grant=$document->getExtraEidValue('group_grantAA')}
			<!--@if( ((!$member_grant || ($member_grant &&  substr_count(",".$member_grant.",", ",".$logged_info->user_id.","))) && (!$group_grant || ($group_grant &&  substr_count(",".$group_grant.",", ",".$logged_info->group.",")))) || $grant->manager=="Y" || $grant->document_grant=="N")-->

			<li style="margin:{$module_info->thumbnail_margin_height}px {$module_info->thumbnail_margin_width}px ; width:{$module_info->thumbnail_width+($module_info->thumbnail_padding+1)*2}px; height:{$_height}px;">
			
                {@$_meta_display = false}
                <!--@foreach($list_config as $key => $val)-->

                    <!--// 기본 컨텐츠일 경우 -->
                    <!--@if($val->idx == -1)-->
                        <!--@if($val->type == 'no')-->
                            <!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->
                            <p class="num"><!--@if($document_srl == $document->document_srl)-->&raquo;<!--@elseif($module_info->notice_type=="same" && $loop==0)-->N<!--@elseif($sortkey)-->{$total_count-($no+(($page-1)*$module_info->list_count))}<!--@else-->{$no}<!--@end-->
								<!--@if($grant->manager)-->
                                    <input type="checkbox" name="cart" value="{$document->document_srl}" onclick="doAddDocumentCart(this)" <!--@if($document->isCarted())-->checked="checked"<!--@end--> /> 
                                <!--@end-->
								<!--@if($module_info->display_list_edit=="Y")-->
									<!--@if($document->isEditable() || $grant->manager)-->
										<a href="{getUrl('act','dispBoardWrite','document_srl',$document->document_srl,'comment_srl','')}" class="button {$btn_class}">
											<span>M</span>
										</a>
										<a href="{getUrl('act','dispBoardDelete','document_srl',$document->document_srl,'comment_srl','')}" class="button {$btn_class}">
											<span>D</span>
										</a>
									<!--@endif-->
								<!--@end-->
								</p>

                        <!--@elseif($val->type == 'thumbnail')-->
							<!-- sejin7940 - 썸네일 정보 추출 (시작) -->
							{@$thumbnail=$thumbnail_temp=""}
							<!--@if($document->hasUploadedFiles())-->
								{@$uploaded_list = $document->getUploadedFiles() }
								<!--@foreach($uploaded_list as $key => $file)-->
									<!--@if(strstr(strtolower($file->uploaded_filename),"_thumb"))-->
										{@$thumbnail = $file->uploaded_filename}
									<!--@end-->
									<!--@if( $module_info->thumbnail_link=='expand' && !$thumbmail_temp && (substr_count(strtolower($file->source_filename),'.jpg') || substr_count(strtolower($file->source_filename),'.gif') || substr_count(strtolower($file->source_filename),'.bmp') || substr_count(strtolower($file->source_filename),'.png')))-->
										{@$thumbnail_temp = $file->uploaded_filename}
									<!--@end-->
								<!--@end-->
								<!--@if(!$thumbnail)-->{@$thumbnail = $thumbnail_temp}<!--@end-->
							<!--@end-->
							<!--@if(!$thumbnail)-->
								{@$thumbnail = $document->getThumbnail($module_info->thumbnail_width, $module_info->thumbnail_height, $module_info->thumbnail_type)}
							<!--@end-->
							<!-- sejin7940 - 썸네일 정보 추출 (끝) -->


                            <!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->


							<!--@if($document->hasUploadedFiles() && $module_info->thumbnail_link=='expand' && ($document->get('member_srl')!=$logged_info->member_srl || $grant->manager!="Y"))-->
								<!--BeforeDocument({$document_srl},{$document->get('member_srl')})-->
								<div align="center" style="float:left; width:{$module_info->thumbnail_width+($module_info->thumbnail_padding+1)*2}px; margin-bottom:5px">
									<!--@if($browser=="IE6")-->  <!-- 확대하기 섬네일이 IE6에서 안 나오는 버그 수정위해 중복출력 (이유는 모름 ㅡㅡ;)  -->
										<div class="document_{$document_srl}_{$document->get('member_srl')} xe_content" style="border:0px solid red; display:none">
											<img editor_component='image_link' src="{$thumbnail}"  width="{$module_info->thumbnail_width}" height="{$module_info->thumbnail_height}" />
										</div>
									<!--@end-->
									<div class="document_{$document_srl}_{$document->get('member_srl')} xe_content" style="border:0px solid red">
										<img editor_component='image_link' src="{$thumbnail}"  width="{$module_info->thumbnail_width}" height="{$module_info->thumbnail_height}" />
									</div>
								</div>
								<!--AfterDocument({$document_srl},{$document->get('member_srl')})-->

							<!--@else-->
								<div align="center" style="float:left; width:{$module_info->thumbnail_width+($module_info->thumbnail_padding+1)*2}px; margin-bottom:5px">  <!-- sejin7940 - ratio시  썸네일 중앙효과 주기 위해서 div 추가 -->
									<div class="thumb">
										{@$link_url = $document->getExtraEidValue('link_url');}
										<!--@if ($grant->manager!="Y" && $logged_info->user_id!=$document->get('user_id') && $module_info->use_link == "Y" && $link_url)-->
											<!--@if (!strstr($link_url,'http://'))-->
												{@$link_url = 'http://'.$link_url;}
											<!--@end-->

											<!--@if($module_info->link_hit!="N" && $read_count == $document->document_srl && $read_counted[$document->document_srl]!="Y")-->
												{@	
													$oDocumentController = &getController('document');
													$oDocumentController->updateReadedCount($document);	
													$read_counted[$document->document_srl]="Y";
												}
												<script>location.href="{getUrl('','mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle)}"</script>
											<!--@end-->

											<a href="{getUrl('','read_count',$document->document_srl,'mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle,'layout_srl',$layout_srl)}"  onclick="window.open('{$link_url}');" style="cursor:pointer">
										<!--@elseif($module_info->default_style=="slide" || ($module_info->list_link=="noview" && ($document->get('member_srl')!=$logged_info->member_srl || $grant->manager!="Y") ))-->
										<!--@else-->
											<!--@if(!$parent_srl)-->{@$parent_srl=$document->document_srl}<!--@end-->

											<a 											<!--@if($mid=='balmers_story')-->href="{getUrl('document_srl',$document->document_srl,'listStyle',$listStyle, 'cpage','','parent_srl',$parent_srl,'category',$document->get('category_srl'))}" <!--@else-->href="{getUrl('document_srl',$document->document_srl,'listStyle',$listStyle, 'cpage','','parent_srl',$parent_srl)}" <!--@end-->
											<!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
										<!--@end-->
										<!--@if($thumbnail)-->
											<img src="{$thumbnail}" <!--@if($module_info->thumbnail_gray=="gtc")-->onmouseover='this.style.filter=""' onmouseout='this.style.filter="gray"'<!--@elseif($module_info->thumbnail_gray=="ctg")-->onmouseover='this.style.filter="gray"' onmouseout='this.style.filter=""'<!--@end--> style=" <!--@if($module_info->thumbnail_gray=="gtc")-->filter:gray;<!--@end--> width:{$module_info->thumbnail_width}px; height:{$module_info->thumbnail_height}px;padding:{$module_info->thumbnail_padding}px; border:{$module_info->thumbnail_border}px solid #ccc;" class="iePngFix" />
										<!--@elseif($module_info->thumbnail_noimage)-->
											<img src="{$module_info->thumbnail_noimage}" <!--@if($module_info->thumbnail_gray=="gtc")-->onmouseover='this.style.filter=""' onmouseout='this.style.filter="gray"'<!--@elseif($module_info->thumbnail_gray=="ctg")-->onmouseover='this.style.filter="gray"' onmouseout='this.style.filter=""'<!--@end--> style=" <!--@if($module_info->thumbnail_gray=="gtc")-->filter:gray;<!--@end--> width:{$module_info->thumbnail_width}px; height:{$module_info->thumbnail_height}px; padding:{$module_info->thumbnail_padding}px; border:{$module_info->thumbnail_border}px solid #ccc" class="iePngFix" >
										<!--@else-->
											<img src="./img/{$module_info->colorset}/noimage.gif" <!--@if($module_info->thumbnail_gray=="gtc")-->onmouseover='this.style.filter=""' onmouseout='this.style.filter="gray"'<!--@elseif($module_info->thumbnail_gray=="ctg")-->onmouseover='this.style.filter="gray"' onmouseout='this.style.filter=""'<!--@end--> style=" <!--@if($module_info->thumbnail_gray=="gtc")-->filter:gray;<!--@end--> width:{$module_info->thumbnail_width}px; height:{$module_info->thumbnail_height}px; padding:{$module_info->thumbnail_padding}px; border:{$module_info->thumbnail_border}px solid #ccc" class="iePngFix" >
										<!--@end-->
										<!--@if($module_info->use_category == "Y" && $module_info->display_category=="Y" && $document->get('category_srl'))--><strong class="category">{$category_list[$document->get('category_srl')]->title}</strong><!--@end--></a>
									</div>
								</div>
							<!--@end-->
                        <!--@elseif($val->type == 'title')-->
                            <!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->
                            <div class="title" align="center">
							<!--@if($document->isSecret() && $module_info->secret_list=="delete" && $grant->manager!="Y" )-->
								<span>{$lang->secret_delete}</span>
							<!--@else-->
                                {@$subject_cut_size=$module_info->subject_cut_size}
								<!--@if($module_info->icon_hot && $module_info->icon_hot<=$document->get('readed_count'))--><img src="./img/icons/hot.gif" class="iePngFix" />{@$subject_cut_size-=10}<!--@end-->
								{@$link_url = $document->getExtraEidValue('link_url');}
								<!--@if ($grant->manager!="Y" && $logged_info->user_id!=$document->get('user_id') && $module_info->use_link == "Y" && $link_url)-->
									<!--@if (!strstr($link_url,'http://'))-->
										{@$link_url = 'http://'.$link_url;}
									<!--@end-->

									<!--@if($module_info->link_hit!="N" && $read_count == $document->document_srl && $read_counted[$document->document_srl]!="Y")-->
										{@	
											$oDocumentController = &getController('document');
											$oDocumentController->updateReadedCount($document);	
											$read_counted[$document->document_srl]="Y";
										}
										<script>location.href="{getUrl('','mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle)}"</script>
									<!--@end-->
									<a href="{getUrl('','read_count',$document->document_srl,'mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle,'layout_srl',$layout_srl)}"  onclick="window.open('{$link_url}');" style="cursor:pointer">
								<!--@elseif($module_info->default_style=="slide" || ($module_info->list_link=="noview" && ($document->get('member_srl')!=$logged_info->member_srl || $grant->manager!="Y") ))-->
								<!--@else-->
									<a <!--@if((!$document->isSecret() || $grant->manager=="Y") && $module_info->subject_mouseover=="subject" && ($subject_cut_size< strlen(strip_tags($document->getTitle())))  )-->title="{strip_tags($document->getTitle())}" <!--@elseif((!$document->isSecret() || $grant->manager=="Y") && $module_info->subject_mouseover=="content")-->title="{strip_tags($document->getContentText($module_info->content_cut_size))}"<!--@end--> href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}" <!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
								<!--@end-->

								<!--@if($document->isSecret() && $module_info->secret_list=="delete" && $grant->manager=="Y" )-->
									<span>{$lang->secret_delete}</span>
								<!--@else-->
								{$document->getTitle($subject_cut_size)}
								<!--@end-->
								</a>
								<!--@if($module_info->display_new!="N")-->
									{$document->printExtraImages(60*60*$module_info->duration_new)}
								<!--@end-->


                                <!--@if($document->getCommentCount())-->
                                    <span class="replyNum" title="Replies">[{$document->getCommentCount()}]</span>
                                <!--@end-->

                                <!--@if($document->getTrackbackCount())-->
                                    <span class="trackbackNum" title="Trackbacks">[{$document->getTrackbackCount()}]</span>
                                <!--@end-->
                            <!--@end-->
                            </div>
                        <!--@elseif($val->type == 'summary')-->
                            <!--@if($document->isSecret() && $module_info->secret_list=="delete" && $grant->manager!="Y" )-->
								<p class="summary">{$lang->secret_delete}</p>
							<!--@else-->
								<!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->
								<p class="summary" <!--@if($module_info->use_tscale=="Y")-->style="margin-right:250px;"<!--@end-->>
								{@$link_url = $document->getExtraEidValue('link_url');}
								<!--@if ($grant->manager!="Y" && $logged_info->user_id!=$document->get('user_id') && $module_info->use_link == "Y" && $link_url)-->
									<!--@if (!strstr($link_url,'http://'))-->
										{@$link_url = 'http://'.$link_url;}
									<!--@end-->

									<!--@if($module_info->link_hit!="N" && $read_count == $document->document_srl && $read_counted[$document->document_srl]!="Y")-->
										{@	
											$oDocumentController = &getController('document');
											$oDocumentController->updateReadedCount($document);	
											$read_counted[$document->document_srl]="Y";
										}
										<script>location.href="{getUrl('','mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle)}"</script>
									<!--@end-->
									<a href="{getUrl('','read_count',$document->document_srl,'mid',$mid,'page',$page,'document_srl','','listStyle',$listStyle)}"  onclick="window.open('{$link_url}');" style="cursor:pointer">
								<!--@elseif($module_info->default_style=="slide" || ($module_info->list_link=="noview" && ($document->get('member_srl')!=$logged_info->member_srl || $grant->manager!="Y") ))-->
								<!--@else-->
									<a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}" style="cursor:pointer">
								<!--@end-->
								<!--@if($module_info->summary_use_html=="Y")-->
								{cut_str($document->getContent(false),$module_info->content_cut_size)}
								<!--@else-->
								{$document->getSummary($module_info->content_cut_size)}
								<!--@end-->
							</a></p>
							<!--@end-->
                        <!--@elseif($val->type == 'last_post' && $document->get('comment_count')>0)-->
                            <!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->
                            <div class="lastReply">
								<!--@if($module_info->default_style=="slide" || ($module_info->list_link=="noview" && ($document->get('member_srl')!=$logged_info->member_srl || $grant->manager!="Y") ))-->
								<!--@else-->
                                <a href="{$document->getPermanentUrl()}#comment" class="replyAnchor" <!--@if($module_info->list_link=="popup")-->onclick="window.open(this.href+'&layout_srl={$popup_layout}','','menubar=no,toolbar=no,location=no,resizable=yes,status=no,scrollbars=yes,fullscreen=no,width={$module_info->popup_width}px,height={$module_info->popup_height}px,top=50px,left=50px');return false"<!--@end-->>
								<!--@end-->
								{zdate($document->get('last_update'),'Y-m-d')} {zdate($document->get('last_update'),'H:i')}</a>
                                <!--@if($document->get('last_updater'))-->
                                    <sub class="by">by</sub>
                                    {htmlspecialchars($document->get('last_updater'))}
                                <!--@end-->
                            </div>
                        <!--@else-->
                            <!--@if(!$_meta_display)--><ul class="meta">{@$_meta_display = true}<!--@end-->
                            <!--@if($val->type == 'regdate')-->
                                <li class="date">{$document->getRegdate('Y-m-d')}</li>
                            <!--@elseif($val->type == 'last_update')-->
                                <li class="date">{zdate($document->get('last_update'),'Y-m-d H:i')}</li>
                            <!--@elseif($val->type == 'nick_name')-->
                                <li class="author"><!--@if(!($sortkey=='regdate' && $grant->manager!="Y"))--><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false"><!--@end-->{$document->getNickName()}</a></li>
                            <!--@elseif($val->type == 'user_id')-->
                                <li class="author">{$document->getUserID()}</a></li>
                            <!--@elseif($val->type == 'user_name')-->
                                <li class="author"><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false">{$document->getUserName()}</a></li>
                            <!--@elseif($val->type == 'readed_count')-->
								<li class="reading">{$lang->readed_count} : {$document->get('readed_count')>0?$document->get('readed_count'):'0'}</li>
                            <!--@elseif($val->type == 'voted_count')-->
                                <li class="recommend">{$lang->voted_count} : {$document->get('voted_count')!=0?$document->get('voted_count'):'0'}</li>
                            <!--@end-->
                        <!--@end-->
					<!--@elseif( $module_info->grant_extra=="Y" && (((substr_count($val->eid,'_grantAA') || substr_count($val->eid,'_grantMA') || substr_count($val->eid,'_grantGA')) && !$grant->manager) || ((substr_count($val->eid,'_grantAM') || substr_count($val->eid,'_grantMM') || substr_count($val->eid,'_grantGM')) && !$logged_info)) )-->
                    <!--@else-->
                        <!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->
                        <p class="title" style="width:100%; text-align:center; font-weight:normal"><!--@if($module_info->display_extra_name!="N")--><span <!--@if($val->eid=='regdate' && $sortkey=='regdate' )-->class="date"<!--@else-->class="category"<!--@end-->>{$val->name} :</span> <!--@end-->{$document->getExtraValueHTML($val->idx)}&nbsp;</p>
                    <!--@end-->
                <!--@end-->
                <!--@if($_meta_display)--></ul>{@$_meta_display = false}<!--@end-->
			</li>
			<!--@end-->
			<!--@end-->
			<!--@end-->
		</ul>
		
        <!--@end-->
<!--@end-->
    </fieldset>
</form>
