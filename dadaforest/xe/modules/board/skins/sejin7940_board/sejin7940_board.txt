XE 기본형태 글쓰기란에서, 비회원이 글수정시 글쓴이/이메일/홈페이지 란이 유지되도록
글제목 생략 기능 / 글내용 생략 기능 추가 (자동으로 글쓴이 이름이 기재됨 - 검색용이하도록)
목록 상단 확장변수 항목 클릭시, 확장변수 기준으로 정렬기능 추가
제목/글쓴이/아이디 등으로는 정렬할 수 없던 제한적인 기능 확장 (XE Core 소스 수정 안 하고도 가능하게 함)


***********  ver 1.31 (2010.8.6)  업데이트된 내용 **********
1. 기능추가 - 1) 글쓰기에서의 제목글자수를 제한할 수 있게 설정가능
            - 2) 비밀댓글시, 글쓴이등의 정보도 아예 안 나타나도록 설정 가능
	    - 3) 새글,업데이트 등의 아이콘 출력 여부 설정 가능 -  새글,업데이트만 표시 / 표시 안함 / 사진,동영상,파일까지 표시 

2. 기능보완 - 1) 정렬기능 이용하다가 검색기능 사용하면, 기존의 정렬이 없어지던 XE기본 스킨의 버그 보완
         
3. 버그수정 - 1) 손님에게도 색상 변경기능..  XE Core 수정방법 안내문 오타 수정  &  설정에서 기본을 관리자 로 변경
              2) view에 스크랩 버튼 별도 표시 기능 사용시, 버튼모양이 깨지던 버그 수정
	      3) FF3 에서 상담형 게시판 무한반복 되는 버그 수정


*************  sejin7940_board  특징 소개 (종합) *******************

I. 공통기능 개선

1. 카테고리(분류) 기능 확장 
  (1) 카테고리 출력 형식 다양화
  (2) 목록에서 분류 내용 출력 위치 설정 가능
  (3) 카테고리별 구별하여 전체 목록 출력 기능 구현
  (4) 목록에 카테고리 표시 여부 설정가능 / 카테고리 글자수 제한 가능

2. 비밀글 기능 강화
  (1) 비밀글의 기본선택 여부 제어 가능 /  비밀글 설정 권한 제어 가능
  (2) 비밀글 목록에 출력 여부 형태 다양화
  (3) 비밀댓글시, 글쓴이등의 정보도 아예 안 나타나도록 설정 가능  (ver 1.31)


3. 링크게시판 기능 추가  (주의 - 확장변수에 link_url 값 설정 )
  (1) 확장변수에 link_url 값을 설정해두면, 관리자 제외한 사람이 해당 글 및 이미지 클릭시 링크된 주소가 새창으로 뜸 (즉, 내용으로 이동 X )
      (단, 관리자는 해당 링크 수정을 위해서 내용보기창으로 이동됨)
  (2) 링크 클릭시 조회수 증가되도록 기능추가 ( 단,중복클릭 등시에는 조회수 상승 X )


4. 해당게시물의 추천수에 따라 추천게시판으로 자료 이동/복사 기능 구현
  (1) 주의 : XE Core의 modules/document/document.controller.php 파일을 수정해야함
      구체적인 수정방법은,  제일 아래에 적어두었고,  추후 XE Core업데이트시 이 파일이 바뀌면, 재 입력해주어야합니다.
      또는 이 스킨내부에 sejin7940_board/xe/document.controller.php  라는 파일을 첨부해둔바, 이를 대체하면 된다 
          (단, 덮어씌울때 유효성 여부는  XE 1.4.2.3 기준 이다)
  (2) 특정 횟수 이상 추천받으면, 미리 설정한 특정 게시판의 특정 카테고리로 해당 글이 자동 복사 되는 기능 

6. 추천 기능 확장  
  (1) 추천버튼, 비추천버튼 외부 버튼으로 구현하도록 설정 가능
  (2) 댓글 등록시, 해당글의 자동 추천 기능 구현

7. 댓글 기능 확장 
  (1) 댓글쓰기폼에 기본 입력사항 기재 가능
  (2) 댓글 등록시, 해당글의 자동 추천 기능 구현
  (3) 댓글 사용 안 하기 기능 추가



11. 간단한 기능 변경 사항들
  (1) 설정창 현재페이지가 변경되는게 아니라 팝업으로 뜨도록 변경 (이용편이위해)
  (3) 기존에는  게시판제목부분을  게시판제목/게시판부제목 으로 text 로만 가능했는데,  이를 이미지로 대처가능하도록 추가
  (3) 게시판 상세 설명 사항에 table 이 들어가면 틀이 깨지는 현상을 수정
  (4) 검은색 배경에서..  확장변수 폼 관련부분을 검은색 배경에 맞게 수정
  (5) 내용 하단 '이 게시글을..' 링크 표시여부 선택 가능  (ver 1.3)
  (6) 이름(user_name)을 목록설정에서 선택시, 닉네임일 경우와 동일하게 클릭시 관련 팝업항목 나오도록 보완
  (7) 정렬기능 이용하다가 검색기능 사용하면, 기존의 정렬이 없어지던 XE기본 스킨의 버그 보완


II. 목록 기능 강화
  (1) 목록에서 제목에 마우스 오버시 전체제목보기 또는 내용 미리보기 효과 부여 
  (2) 목록 정렬방법을 확장변수를 기준으로 출력하는 기능 추가
  (3) 목록을 임의순서대로 출력할 수 있는 기능 추가  (주의 - 확장변수로  ordering  설정 필수)
  (4) 제목색상 지정 기능 권한 부여가능 - 관리자만/회원/비회원까지  (다만 board 모듈 소스 일부 수정해야함)
  (5) 새글,업데이트 등의 아이콘 출력 여부 설정 가능 -  새글,업데이트만 표시 / 표시 안함 / 사진,동영상,파일까지 표시  (ver 1.31)


III. 보기창 기능 강화
  (1) '이전글/다음글' 보기 기능 및 개수 설정 기능 추가
  (2) 추천/비추천/스크랩/신고하기  버튼 출력 설정 가능
  (3) 보기창 에서 보여질 항목들 선택 가능



IV. 글쓰기창 기능 추가/변경
  (1) 댓글 등록된 경우 글 수정/삭제 제한 기능 추가 ( 예.장터,경매 게시판등에 기능 이용)
  (2) 글쓰기 폼에 기본 입력사항 기재 가능 
  (3) 글쓰기창에서, 작성자 정보와 옵션부분을 상단으로 이동 (익숙하다보니..^^;)
  (4) 글쓰기에서의 제목글자수를 제한할 수 있게 설정가능  (ver 1.31)
  (5) 글쓰기 버튼은 권한 있는 경우만 나타나게 제어 가능 


V. 유형별 기능 추가

1. 목록형 게시판 기능 보완 
  (1) 목록형 게시판에도 좌측에 썸네일 출력 가능하도록 구현. 
  (2) '내용글자수 제한'에  값이 있으면, 목록 제목에 마우스 오버시, 글 내용이 '내용글자수 제한'만큼 미리보기 효과 나타남
      이 값이 없거나, 0 인 경우에는..  내용미리보기 기능이 작동 안 함


2. 갤러리형 게시판 기능 보완
  (1) 갤러리시 전체가 중앙에 배치되도록 좌측 여백크기 설정기능
  (2) 요약 항목 추가시, 글자수 제한이 50이 아니라 설정한대로 적용되도록 수정
  (3) 내용 글자수 제한 기능사용시, html 적용되도록 설정가능 (단, 이 기능 사용시 html소스 글자수만큼 내용글자수 감소됨)
  (6) 갤러리 썸네일을 ratio 로 생성시, 이미지 및 글자들 중앙정렬되도록 보완    

3. 웹진형 게시판 기능 보완 
  (1) 한줄에 2개 이상의 웹진을 가로로 출력할 수 있게 기능 추가
  (2) 이미지 파일이 없으면, noimage 썸네일이 나타나도록 변경 (틀이 항상 동일하게 유지되도록 하고자)
  (3) 썸네일 이미지가 우측이 아니라, 좌측에 나타나도록 변경 (익숙하다보니..^^;)
  (4) 내용 글자수 제한 기능사용시, html 적용되도록 설정가능 (단, 이 기능 사용시 html소스 글자수만큼 내용글자수 감소됨)
  (5) '내용글자수 제한'이 원래는 값이 없어도 '240' 수만큼 제한되는데.. 이 제한을 풀고 값이 없으면 애용 전부가 출력되도록 수정


4. 블로그형 게시판 기능 보완
  (1) 카테고리 선택시, 목록이 아니라 해당카테고리 글이 바로 뜨도록 수정


5. 한줄메모장 게시판 추가  
  (1) 기존의 꿍꿍이님의 한줄 메모장에서 아이디어를 얻어 리뉴얼 
  (2) 글자색변경 / 카테고리기능 / 비밀글 기능 / 공지 기능 모두 가능 / 비회원도 등록 가능 
  (3) 메모가 내용에도 저장되게하여 통합검색 등에 검색되도록 수정


6. 신청형 게시판  
   - 손님의 경우, 쓰기창이 바로 나오고 목록은 안 나타납니다.
   - 회원의 경우, 쓰기창이 바로 나오고 자기글의 목록까지는 나타납니다.
   - 관리자의 경우, 전체 회원의 목록이 바로 나타납니다  (쓰기창은 쓰기버튼 눌러서만 가능합니다)


7. 상담형 게시판  (주의 :  '게시판정보'에서  상담기능 과 비밀글 기능을 체크하면 안 됨!!)
   - 기존 상담기능은 회원이 쓴 글의 목록과 내용을 해당회원과 관리자만 볼 수 있는 기능인데..
     이 기능의 한계가, 관리자가 그 회원에게 직접 글을 쓸 수 없다는 점인데, 상담형 게시판은, 관리자가 특정ID 지정해서 쓸 수 있음
   - 설정법 : 해당 게시판의 '첫번째' 확장변수를  consult_id (회원ID) 로 생성 (필수입력)  (반드시 첫번째여야함)



******************************************************************************

V. sejin7940 기능 구현 위해,  XE 소스 수정 방법

1. 해당게시물의 추천수에 따라 추천게시판으로 자료 이동/복사 기능 구현  위한 수정방법

  (1) 위치 : modules/document/document.controller.php 
  (2) 함수명 :  function updateVotedCount($document_srl, $point = 1)  내부 

  (3) 방법 :  // 결과 리턴 
       
              부분을 찾아서 그 앞에다가 아래 코드를 추가해주면 됨

		//  sejin7940 수정 (091129 - 시작) - 추천게시판 기능 구현 추가
		$oModuleModel = &getModel('module');
		$board_info = $oModuleModel -> getModuleSkinVars($oDocument->get('module_srl'));
		$voted_module_srl = $oModuleModel -> getModuleSrlByMid($board_info[voted_mid]->value);
		$voted_module_srl = $voted_module_srl[0];
		$voted_document_srl[0] = $oDocument->get('document_srl');
		$voted_num = $board_info[voted_num]->value;
		if($args->voted_count == $voted_num ) {
			$oDocumentController = &getAdminController('document');
			$oDocumentController -> copyDocumentModule ( $voted_document_srl, $voted_module_srl, $category_srl);
			//  만약 추천수 되었을때 글을 복사가 아니라 이동시키고 싶은 경우에는  copyDocumentModule 대신 moveDocumentModule 로 수정하면 됨
		}
		//  sejin7940 수정 (091129 - 끝)  - 추천게시판 기능 구현 추가



2. 글 쓸때 제목색깔 권한 부여 기능 수정방법  (ver 1.31)

  (1) 위치 : modules/board/board.controller.php 에서

  (2) 함수명 :  function procBoardInsertDocument() {  함수내에        

  (3) 방법 :    if(!$this->grant->manager) {
	                unset($obj->title_color);
	                unset($obj->title_bold);
	        }   
      
              부분을 찾아서 통째로 삭제하면 됨
